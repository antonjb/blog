---
import type { Space } from '../types/space'

interface Props {
    /** A CSS max-width value */
    max?: string
    /** Center align the text too (text-align: center) */
    andText?: boolean
    /** The minimum space on either side of the content */
    gutters?: Space
    /** Center child elements based on their content width */
    intrinsic?: boolean
}

const { max, andText = false, gutters = '0', intrinsic = false } = Astro.props
const guttersStyle = `var(--space-${gutters}, var(--space-0, 0))`
---

<div class:list={['center', { 'center-text': andText, 'center-intrinsic': intrinsic }]}>
    <slot />
</div>

<style define:vars={{ max, gutters: guttersStyle }}>
    .center {
        display: block;
        box-sizing: content-box;
        margin-inline: auto;
        max-inline-size: var(--max, var(--measure));
        padding-inline: var(--gutters);
    }

    .center-text {
        text-align: center;
    }

    .center-intrinsic {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
</style>
