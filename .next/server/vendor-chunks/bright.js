"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/bright";
exports.ids = ["vendor-chunks/bright"];
exports.modules = {

/***/ "(rsc)/./node_modules/bright/dist/index.mjs":
/*!********************************************!*\
  !*** ./node_modules/bright/dist/index.mjs ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Code: () => (/* binding */ Code),\n/* harmony export */   linesToContent: () => (/* binding */ linesToContent),\n/* harmony export */   tokensToContent: () => (/* binding */ tokensToContent),\n/* harmony export */   tokensToTokenList: () => (/* binding */ tokensToTokenList)\n/* harmony export */ });\n/* harmony import */ var _code_hike_lighter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @code-hike/lighter */ \"(rsc)/./node_modules/@code-hike/lighter/dist/index.esm.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react.js\");\n/* harmony import */ var server_only__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! server-only */ \"(rsc)/./node_modules/next/dist/compiled/server-only/empty.js\");\n// src/index.tsx\n\n\n// src/code.tsx\n\n\n// src/title.tsx\n\nfunction TitleBar(props) {\n  const colors = props.colors;\n  const { TitleBarContent: TitleBarContent2 } = props;\n  const elementProps = {\n    className: props.titleClassName,\n    style: {\n      background: colors.editorGroupHeader.tabsBackground,\n      color: colors.tab.activeForeground,\n      position: \"relative\",\n      display: \"flex\"\n    }\n  };\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { ...elementProps, children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(TitleBarContent2, { ...props }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n      \"div\",\n      {\n        style: {\n          position: \"absolute\",\n          bottom: 0,\n          left: 0,\n          width: \"100%\",\n          pointerEvents: \"none\",\n          background: colors.tab.border,\n          height: 1,\n          zIndex: 9\n        }\n      }\n    )\n  ] });\n}\nfunction TitleBarContent(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Tab, { ...props });\n}\nfunction Tab(props) {\n  const { TabContent: TabContent2 } = props;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n    \"div\",\n    {\n      \"data-bright-tab\": props.title,\n      style: {\n        cursor: \"pointer\",\n        background: \"var(--tab-background)\",\n        color: \"var(--tab-color)\",\n        display: \"inline-block\",\n        padding: \"0.5em 1em\",\n        position: \"relative\",\n        fontFamily: \"Segoe WPC,Segoe UI,-apple-system,BlinkMacSystemFont,sans-serif\",\n        fontSize: \"13px\",\n        borderRight: \"1px solid var(--tab-border)\"\n      },\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(TabContent2, { ...props }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n          \"div\",\n          {\n            style: {\n              position: \"absolute\",\n              left: 0,\n              top: 0,\n              height: 1,\n              zIndex: 10,\n              background: \"var(--tab-top-border)\",\n              width: \"100%\"\n            }\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n          \"div\",\n          {\n            style: {\n              position: \"absolute\",\n              bottom: 0,\n              left: 0,\n              height: 1,\n              zIndex: 10,\n              background: \"var(--tab-bottom-border)\",\n              width: \"100%\"\n            }\n          }\n        )\n      ]\n    }\n  );\n}\nfunction TabContent(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children: props.title });\n}\n\n// src/tokens.tsx\n\nfunction TokensRenderer({\n  tokens,\n  brightProps\n}) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children: tokens.map(\n    (token, i) => \"content\" in token ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(TokenRenderer, { token, brightProps }, i) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n      TokenGroupRenderer,\n      {\n        tokens: token,\n        brightProps\n      },\n      i\n    )\n  ) });\n}\nfunction TokenGroupRenderer({\n  tokens,\n  brightProps\n}) {\n  const { extensions } = brightProps;\n  const extension = extensions.find((ext) => ext.name === tokens.annotationName);\n  const Wrapper = extension == null ? void 0 : extension.InlineAnnotation;\n  if (!Wrapper) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(TokensRenderer, { tokens: tokens.tokens, brightProps });\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    Wrapper,\n    {\n      query: tokens.annotationQuery,\n      tokens: tokens.tokens,\n      brightProps,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(TokensRenderer, { tokens: tokens.tokens, brightProps })\n    }\n  );\n}\nfunction TokenRenderer({\n  token,\n  brightProps\n}) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", { style: token.style, children: token.content });\n}\nfunction tokensToTokenList(tokens) {\n  return tokens.map((token) => {\n    if (\"content\" in token) {\n      return token;\n    } else {\n      return tokensToTokenList(token.tokens);\n    }\n  }).flat();\n}\nfunction tokensToContent(tokens) {\n  return tokens.map((token) => {\n    if (\"content\" in token) {\n      return token.content;\n    } else {\n      return tokensToContent(token.tokens);\n    }\n  }).join(\"\");\n}\n\n// src/lines.tsx\n\nfunction LinesComponent({\n  lines,\n  brightProps\n}) {\n  const { extensions } = brightProps;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children: lines.map((line, i) => {\n    if (\"lineNumber\" in line) {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(LineComponent, { line, brightProps }, i);\n    }\n    const extension = extensions.find(\n      (ext) => ext.name === line.annotationName\n    );\n    if (extension == null ? void 0 : extension.MultilineAnnotation) {\n      const Wrapper = extension.MultilineAnnotation;\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n        Wrapper,\n        {\n          query: line.annotationQuery,\n          lines: line.lines,\n          brightProps,\n          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(LinesComponent, { lines: line.lines, brightProps })\n        },\n        i\n      );\n    } else {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n        LinesComponent,\n        {\n          lines: line.lines,\n          brightProps\n        },\n        i\n      );\n    }\n  }) });\n}\nfunction LineComponent({\n  line,\n  brightProps\n}) {\n  const digits = brightProps.lineNumbers ? brightProps.lineCount.toString().length : 0;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { style: { padding: \"0 1em\" }, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"span\", { children: [\n    digits > 0 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n      \"span\",\n      {\n        \"data-bright-ln\": line.lineNumber,\n        style: { width: `${digits}ch` },\n        children: line.lineNumber\n      }\n    ),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(TokensRenderer, { tokens: line.tokens, brightProps }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"br\", {})\n  ] }) });\n}\nfunction linesToContent(lines) {\n  return lines.map((line) => {\n    if (\"lineNumber\" in line) {\n      return tokensToContent(line.tokens);\n    } else {\n      return linesToContent(line.lines);\n    }\n  }).join(\"\\n\");\n}\n\n// src/code.tsx\n\nasync function BrightCode(props) {\n  const brightProps = await highlight(props);\n  const { Root: Root2 } = brightProps;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Root2, { ...brightProps });\n}\nasync function highlight(props) {\n  if (props.subProps) {\n    const { subProps, ...rootProps } = props;\n    const newSubProps = await Promise.all(\n      subProps.map((sub) => highlight({ ...rootProps, ...sub }))\n    );\n    return {\n      ...rootProps,\n      ...newSubProps[0],\n      subProps: newSubProps\n    };\n  }\n  const { code, lang, theme, annotations } = props;\n  const { lines } = await (0,_code_hike_lighter__WEBPACK_IMPORTED_MODULE_0__.highlight)(code, lang, theme, { annotations });\n  const colors = (0,_code_hike_lighter__WEBPACK_IMPORTED_MODULE_0__.getThemeColorsSync)(theme);\n  const brightProps = {\n    ...props,\n    subProps: [],\n    colors,\n    lines,\n    lineCount: code.split(`\n`).length\n  };\n  return brightProps;\n}\nfunction Root(props) {\n  const { theme, className, style, colors, mode, title, Pre: Pre2 } = props;\n  const { foreground } = colors;\n  const themeName = getThemeName(theme);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n    \"div\",\n    {\n      \"data-bright-theme\": themeName,\n      \"data-bright-mode\": mode,\n      className,\n      style: {\n        color: foreground,\n        borderRadius: \"4px\",\n        overflow: \"hidden\",\n        margin: \"1em 0\",\n        [\"--selection-background\"]: colors.editor.selectionBackground,\n        [\"--line-number-color\"]: colors.editorLineNumber.foreground,\n        [\"--tab-border\"]: colors.tab.border,\n        [\"--tab-background\"]: colors.tab.activeBackground,\n        [\"--tab-color\"]: colors.tab.activeForeground,\n        [\"--inactive-tab-background\"]: colors.tab.inactiveBackground,\n        [\"--inactive-tab-color\"]: colors.tab.inactiveForeground,\n        [\"--tab-top-border\"]: colors.tab.activeBorderTop,\n        [\"--tab-bottom-border\"]: colors.tab.activeBorder,\n        colorScheme: colors.colorScheme,\n        ...style\n      },\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n          Style,\n          {\n            mode,\n            lineNumbers: props.lineNumbers,\n            lightThemeSelector: props.lightThemeSelector\n          }\n        ),\n        title && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(TitleBar, { ...props }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Pre2, { ...props })\n      ]\n    }\n  );\n}\nfunction Pre(brightProps) {\n  const { lines, codeClassName, colors } = brightProps;\n  const { foreground, background } = colors;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    \"pre\",\n    {\n      style: {\n        margin: 0,\n        color: foreground,\n        background,\n        padding: \"1em 0\",\n        overflow: \"auto\"\n      },\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n        \"code\",\n        {\n          className: codeClassName,\n          style: { display: \"block\", minWidth: \"fit-content\" },\n          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(LinesComponent, { lines, brightProps })\n        }\n      )\n    }\n  );\n}\nfunction Style({\n  mode,\n  lineNumbers,\n  lightThemeSelector\n}) {\n  const lineNumbersStyle = `[data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }`;\n  const css = `${displayStyle(mode, lightThemeSelector)}\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  ${lineNumbers ? lineNumbersStyle : \"\"}\n  `;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"style\", { dangerouslySetInnerHTML: { __html: css } });\n}\nfunction displayStyle(mode, lightThemeSelector = '[data-theme=\"light\"]') {\n  if (!mode)\n    return \"\";\n  if (mode === \"dark\")\n    return `[data-bright-mode=\"dark\"] { display: block }\n${lightThemeSelector} [data-bright-mode=\"dark\"] { display: none }`;\n  if (mode === \"light\")\n    return `[data-bright-mode=\"light\"] { display: none }\n${lightThemeSelector} [data-bright-mode=\"light\"] { display: block }`;\n  return \"\";\n}\nfunction getThemeName(theme) {\n  if (!theme)\n    return \"default\";\n  if (typeof theme === \"string\")\n    return theme;\n  return theme.name;\n}\n\n// src/components.tsx\nvar components = {\n  Pre,\n  Root,\n  TitleBarContent,\n  Tab,\n  TabContent\n};\nvar components_default = components;\n\n// src/index.tsx\n\n\n\nvar Code = async (componentProps) => {\n  const { children, lang, ...rest } = {\n    ...Code,\n    ...componentProps\n  };\n  const propsFromChildren = parseChildren(children, lang, rest.code);\n  let props = { ...rest, ...propsFromChildren };\n  const { theme } = props;\n  const isDouble = theme && theme.dark && theme.light || false;\n  if (!isDouble) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(AnnotatedCode, { ...props, theme });\n  }\n  const doubleTheme = theme;\n  const darkTheme = doubleTheme.dark;\n  const lightTheme = doubleTheme.light;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n      AnnotatedCode,\n      {\n        ...props,\n        theme: darkTheme,\n        mode: \"dark\",\n        lightThemeSelector: doubleTheme.lightSelector\n      }\n    ),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n      AnnotatedCode,\n      {\n        ...props,\n        theme: lightTheme,\n        mode: \"light\",\n        lightThemeSelector: doubleTheme.lightSelector\n      }\n    )\n  ] });\n};\nasync function AnnotatedCode(props) {\n  let newProps = await extractAnnotationsFromCode(props);\n  newProps = runExtensionsBeforeHighlight(newProps);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(BrightCode, { ...newProps });\n}\nCode.theme = \"dark-plus\";\nCode.extensions = [];\nObject.assign(Code, components_default);\nasync function extractAnnotationsFromCode(props) {\n  if (props.subProps) {\n    const { subProps, ...rootProps } = props;\n    return {\n      ...rootProps,\n      subProps: await Promise.all(\n        subProps.map(\n          (sub) => extractAnnotationsFromCode({ ...rootProps, ...sub })\n        )\n      )\n    };\n  }\n  const { extensions, code, lang } = props;\n  const extensionNames = extensions.map((e) => {\n    if (!e || !e.name) {\n      throw new Error(\"Extension must have a name\");\n    }\n    return e.name;\n  });\n  const { code: newCode, annotations } = await (0,_code_hike_lighter__WEBPACK_IMPORTED_MODULE_0__.extractAnnotations)(\n    code,\n    lang,\n    extensionNames\n  );\n  const inputAnnotations = props.annotations || [];\n  const newProps = {\n    ...props,\n    code: newCode,\n    annotations: inputAnnotations.concat(annotations)\n  };\n  return newProps;\n}\nfunction runExtensionsBeforeHighlight(props) {\n  let newProps = props;\n  const { extensions, annotations = [] } = props;\n  extensions.forEach((extension) => {\n    const { Pre: Pre2, Root: Root2, TitleBarContent: TitleBarContent2, Tab: Tab2, TabContent: TabContent2 } = extension;\n    newProps = {\n      ...newProps,\n      Pre: Pre2 || newProps.Pre,\n      Root: Root2 || newProps.Root,\n      TitleBarContent: TitleBarContent2 || newProps.TitleBarContent,\n      Tab: Tab2 || newProps.Tab,\n      TabContent: TabContent2 || newProps.TabContent\n    };\n  });\n  if (props.subProps) {\n    extensions.forEach((extension) => {\n      const { name } = extension;\n      if (\"beforeRoot\" in extension && typeof extension.beforeRoot === \"function\") {\n        const extensionAnnotations = annotations.filter(\n          (annotation) => annotation.name === name\n        );\n        newProps = extension.beforeRoot(newProps, extensionAnnotations) || newProps;\n      }\n    });\n    const { subProps, ...rootProps } = newProps;\n    return {\n      ...rootProps,\n      subProps: (subProps || []).map(\n        (sub) => runExtensionsBeforeHighlight({ ...rootProps, ...sub })\n      )\n    };\n  }\n  extensions.forEach((extension) => {\n    const { name } = extension;\n    if (\"beforeHighlight\" in extension && typeof extension.beforeHighlight === \"function\") {\n      const extensionAnnotations = annotations.filter(\n        (annotation) => annotation.name === name\n      );\n      newProps = extension.beforeHighlight(newProps, extensionAnnotations) || newProps;\n    }\n  });\n  return newProps;\n}\nfunction trimTrailingNewline(code) {\n  var _a;\n  return (_a = code == null ? void 0 : code.replace(/\\n$/, \"\")) != null ? _a : void 0;\n}\nfunction parseChildren(children, lang, code) {\n  var _a, _b, _c;\n  if (typeof children === \"string\" || code) {\n    let newLang2 = lang || \"text\";\n    if (!_code_hike_lighter__WEBPACK_IMPORTED_MODULE_0__.LANG_NAMES.includes(newLang2)) {\n      console.warn(`Bright warning: Unknown language ${JSON.stringify(lang)}`);\n      newLang2 = \"text\";\n    }\n    return {\n      code: children || code || \"\",\n      lang: newLang2\n    };\n  }\n  if (typeof children === \"object\" && typeof ((_a = children == null ? void 0 : children.props) == null ? void 0 : _a.children) === \"string\") {\n    return {\n      code: trimTrailingNewline((_b = children.props) == null ? void 0 : _b.children),\n      ...getLanguageAndTitle((_c = children.props) == null ? void 0 : _c.className)\n    };\n  }\n  if (typeof children === \"object\") {\n    const subProps = react__WEBPACK_IMPORTED_MODULE_2__.Children.toArray(children).map((c) => {\n      var _a2;\n      const codeElement = (_a2 = c.props) == null ? void 0 : _a2.children;\n      const codeProps = codeElement == null ? void 0 : codeElement.props;\n      return {\n        code: trimTrailingNewline(codeProps.children),\n        ...getLanguageAndTitle(codeProps.className)\n      };\n    });\n    return {\n      subProps\n    };\n  }\n  let newLang = lang || \"text\";\n  if (!_code_hike_lighter__WEBPACK_IMPORTED_MODULE_0__.LANG_NAMES.includes(newLang)) {\n    console.warn(`Bright warning: Unknown language ${JSON.stringify(lang)}`);\n    newLang = \"text\";\n  }\n  return {\n    code: children || code || \"\",\n    lang: newLang\n  };\n}\nfunction getLanguageAndTitle(className) {\n  if (!className) {\n    return { lang: \"text\" };\n  }\n  const metastring = className.replace(\"language-\", \"\");\n  const lang = metastring.split(\".\").pop();\n  if (!_code_hike_lighter__WEBPACK_IMPORTED_MODULE_0__.LANG_NAMES.includes(lang)) {\n    console.warn(\n      `Bright warning: Unknown language ${JSON.stringify(\n        lang\n      )} in ${JSON.stringify(metastring)}`\n    );\n    return { lang: \"text\" };\n  }\n  if (lang !== metastring) {\n    return { lang, title: metastring };\n  }\n  return { lang };\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvYnJpZ2h0L2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFJNEI7O0FBRTVCO0FBSTRCOztBQUU1QjtBQUN3RDtBQUN4RDtBQUNBO0FBQ0EsVUFBVSxvQ0FBb0M7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHVEQUFJLFVBQVU7QUFDdkMsb0JBQW9CLHNEQUFHLHFCQUFxQixVQUFVO0FBQ3RELG9CQUFvQixzREFBRztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSx5QkFBeUIsc0RBQUcsUUFBUSxVQUFVO0FBQzlDO0FBQ0E7QUFDQSxVQUFVLDBCQUEwQjtBQUNwQyx5QkFBeUIsdURBQUk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSx3QkFBd0Isc0RBQUcsZ0JBQWdCLFVBQVU7QUFDckQsd0JBQXdCLHNEQUFHO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHNEQUFHO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixzREFBRyxDQUFDLHVEQUFRLElBQUksdUJBQXVCO0FBQ2hFOztBQUVBO0FBQ3VFO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCx5QkFBeUIsc0RBQUksQ0FBQyx1REFBUyxJQUFJO0FBQzNDLHVEQUF1RCxzREFBSSxrQkFBa0Isb0JBQW9CLHVCQUF1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QUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsV0FBVztBQUNYO0FBTUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibG9nLy4vbm9kZV9tb2R1bGVzL2JyaWdodC9kaXN0L2luZGV4Lm1qcz85ODFmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9pbmRleC50c3hcbmltcG9ydCB7XG4gIGV4dHJhY3RBbm5vdGF0aW9ucyxcbiAgTEFOR19OQU1FU1xufSBmcm9tIFwiQGNvZGUtaGlrZS9saWdodGVyXCI7XG5cbi8vIHNyYy9jb2RlLnRzeFxuaW1wb3J0IHtcbiAgZ2V0VGhlbWVDb2xvcnNTeW5jLFxuICBoaWdobGlnaHQgYXMgbGlnaHRcbn0gZnJvbSBcIkBjb2RlLWhpa2UvbGlnaHRlclwiO1xuXG4vLyBzcmMvdGl0bGUudHN4XG5pbXBvcnQgeyBGcmFnbWVudCwganN4LCBqc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBUaXRsZUJhcihwcm9wcykge1xuICBjb25zdCBjb2xvcnMgPSBwcm9wcy5jb2xvcnM7XG4gIGNvbnN0IHsgVGl0bGVCYXJDb250ZW50OiBUaXRsZUJhckNvbnRlbnQyIH0gPSBwcm9wcztcbiAgY29uc3QgZWxlbWVudFByb3BzID0ge1xuICAgIGNsYXNzTmFtZTogcHJvcHMudGl0bGVDbGFzc05hbWUsXG4gICAgc3R5bGU6IHtcbiAgICAgIGJhY2tncm91bmQ6IGNvbG9ycy5lZGl0b3JHcm91cEhlYWRlci50YWJzQmFja2dyb3VuZCxcbiAgICAgIGNvbG9yOiBjb2xvcnMudGFiLmFjdGl2ZUZvcmVncm91bmQsXG4gICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgZGlzcGxheTogXCJmbGV4XCJcbiAgICB9XG4gIH07XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IC4uLmVsZW1lbnRQcm9wcywgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8ganN4KFRpdGxlQmFyQ29udGVudDIsIHsgLi4ucHJvcHMgfSksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7XG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICBib3R0b206IDAsXG4gICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgcG9pbnRlckV2ZW50czogXCJub25lXCIsXG4gICAgICAgICAgYmFja2dyb3VuZDogY29sb3JzLnRhYi5ib3JkZXIsXG4gICAgICAgICAgaGVpZ2h0OiAxLFxuICAgICAgICAgIHpJbmRleDogOVxuICAgICAgICB9XG4gICAgICB9XG4gICAgKVxuICBdIH0pO1xufVxuZnVuY3Rpb24gVGl0bGVCYXJDb250ZW50KHByb3BzKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFRhYiwgeyAuLi5wcm9wcyB9KTtcbn1cbmZ1bmN0aW9uIFRhYihwcm9wcykge1xuICBjb25zdCB7IFRhYkNvbnRlbnQ6IFRhYkNvbnRlbnQyIH0gPSBwcm9wcztcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFwiZGl2XCIsXG4gICAge1xuICAgICAgXCJkYXRhLWJyaWdodC10YWJcIjogcHJvcHMudGl0bGUsXG4gICAgICBzdHlsZToge1xuICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICBiYWNrZ3JvdW5kOiBcInZhcigtLXRhYi1iYWNrZ3JvdW5kKVwiLFxuICAgICAgICBjb2xvcjogXCJ2YXIoLS10YWItY29sb3IpXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiaW5saW5lLWJsb2NrXCIsXG4gICAgICAgIHBhZGRpbmc6IFwiMC41ZW0gMWVtXCIsXG4gICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgIGZvbnRGYW1pbHk6IFwiU2Vnb2UgV1BDLFNlZ29lIFVJLC1hcHBsZS1zeXN0ZW0sQmxpbmtNYWNTeXN0ZW1Gb250LHNhbnMtc2VyaWZcIixcbiAgICAgICAgZm9udFNpemU6IFwiMTNweFwiLFxuICAgICAgICBib3JkZXJSaWdodDogXCIxcHggc29saWQgdmFyKC0tdGFiLWJvcmRlcilcIlxuICAgICAgfSxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goVGFiQ29udGVudDIsIHsgLi4ucHJvcHMgfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgIGhlaWdodDogMSxcbiAgICAgICAgICAgICAgekluZGV4OiAxMCxcbiAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJ2YXIoLS10YWItdG9wLWJvcmRlcilcIixcbiAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgICBoZWlnaHQ6IDEsXG4gICAgICAgICAgICAgIHpJbmRleDogMTAsXG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwidmFyKC0tdGFiLWJvdHRvbS1ib3JkZXIpXCIsXG4gICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIFRhYkNvbnRlbnQocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goRnJhZ21lbnQsIHsgY2hpbGRyZW46IHByb3BzLnRpdGxlIH0pO1xufVxuXG4vLyBzcmMvdG9rZW5zLnRzeFxuaW1wb3J0IHsgRnJhZ21lbnQgYXMgRnJhZ21lbnQyLCBqc3ggYXMganN4MiB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZnVuY3Rpb24gVG9rZW5zUmVuZGVyZXIoe1xuICB0b2tlbnMsXG4gIGJyaWdodFByb3BzXG59KSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MihGcmFnbWVudDIsIHsgY2hpbGRyZW46IHRva2Vucy5tYXAoXG4gICAgKHRva2VuLCBpKSA9PiBcImNvbnRlbnRcIiBpbiB0b2tlbiA/IC8qIEBfX1BVUkVfXyAqLyBqc3gyKFRva2VuUmVuZGVyZXIsIHsgdG9rZW4sIGJyaWdodFByb3BzIH0sIGkpIDogLyogQF9fUFVSRV9fICovIGpzeDIoXG4gICAgICBUb2tlbkdyb3VwUmVuZGVyZXIsXG4gICAgICB7XG4gICAgICAgIHRva2VuczogdG9rZW4sXG4gICAgICAgIGJyaWdodFByb3BzXG4gICAgICB9LFxuICAgICAgaVxuICAgIClcbiAgKSB9KTtcbn1cbmZ1bmN0aW9uIFRva2VuR3JvdXBSZW5kZXJlcih7XG4gIHRva2VucyxcbiAgYnJpZ2h0UHJvcHNcbn0pIHtcbiAgY29uc3QgeyBleHRlbnNpb25zIH0gPSBicmlnaHRQcm9wcztcbiAgY29uc3QgZXh0ZW5zaW9uID0gZXh0ZW5zaW9ucy5maW5kKChleHQpID0+IGV4dC5uYW1lID09PSB0b2tlbnMuYW5ub3RhdGlvbk5hbWUpO1xuICBjb25zdCBXcmFwcGVyID0gZXh0ZW5zaW9uID09IG51bGwgPyB2b2lkIDAgOiBleHRlbnNpb24uSW5saW5lQW5ub3RhdGlvbjtcbiAgaWYgKCFXcmFwcGVyKSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyKFRva2Vuc1JlbmRlcmVyLCB7IHRva2VuczogdG9rZW5zLnRva2VucywgYnJpZ2h0UHJvcHMgfSk7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyKFxuICAgIFdyYXBwZXIsXG4gICAge1xuICAgICAgcXVlcnk6IHRva2Vucy5hbm5vdGF0aW9uUXVlcnksXG4gICAgICB0b2tlbnM6IHRva2Vucy50b2tlbnMsXG4gICAgICBicmlnaHRQcm9wcyxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MihUb2tlbnNSZW5kZXJlciwgeyB0b2tlbnM6IHRva2Vucy50b2tlbnMsIGJyaWdodFByb3BzIH0pXG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gVG9rZW5SZW5kZXJlcih7XG4gIHRva2VuLFxuICBicmlnaHRQcm9wc1xufSkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDIoXCJzcGFuXCIsIHsgc3R5bGU6IHRva2VuLnN0eWxlLCBjaGlsZHJlbjogdG9rZW4uY29udGVudCB9KTtcbn1cbmZ1bmN0aW9uIHRva2Vuc1RvVG9rZW5MaXN0KHRva2Vucykge1xuICByZXR1cm4gdG9rZW5zLm1hcCgodG9rZW4pID0+IHtcbiAgICBpZiAoXCJjb250ZW50XCIgaW4gdG9rZW4pIHtcbiAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRva2Vuc1RvVG9rZW5MaXN0KHRva2VuLnRva2Vucyk7XG4gICAgfVxuICB9KS5mbGF0KCk7XG59XG5mdW5jdGlvbiB0b2tlbnNUb0NvbnRlbnQodG9rZW5zKSB7XG4gIHJldHVybiB0b2tlbnMubWFwKCh0b2tlbikgPT4ge1xuICAgIGlmIChcImNvbnRlbnRcIiBpbiB0b2tlbikge1xuICAgICAgcmV0dXJuIHRva2VuLmNvbnRlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0b2tlbnNUb0NvbnRlbnQodG9rZW4udG9rZW5zKTtcbiAgICB9XG4gIH0pLmpvaW4oXCJcIik7XG59XG5cbi8vIHNyYy9saW5lcy50c3hcbmltcG9ydCB7IEZyYWdtZW50IGFzIEZyYWdtZW50MywganN4IGFzIGpzeDMsIGpzeHMgYXMganN4czIgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIExpbmVzQ29tcG9uZW50KHtcbiAgbGluZXMsXG4gIGJyaWdodFByb3BzXG59KSB7XG4gIGNvbnN0IHsgZXh0ZW5zaW9ucyB9ID0gYnJpZ2h0UHJvcHM7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MyhGcmFnbWVudDMsIHsgY2hpbGRyZW46IGxpbmVzLm1hcCgobGluZSwgaSkgPT4ge1xuICAgIGlmIChcImxpbmVOdW1iZXJcIiBpbiBsaW5lKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDMoTGluZUNvbXBvbmVudCwgeyBsaW5lLCBicmlnaHRQcm9wcyB9LCBpKTtcbiAgICB9XG4gICAgY29uc3QgZXh0ZW5zaW9uID0gZXh0ZW5zaW9ucy5maW5kKFxuICAgICAgKGV4dCkgPT4gZXh0Lm5hbWUgPT09IGxpbmUuYW5ub3RhdGlvbk5hbWVcbiAgICApO1xuICAgIGlmIChleHRlbnNpb24gPT0gbnVsbCA/IHZvaWQgMCA6IGV4dGVuc2lvbi5NdWx0aWxpbmVBbm5vdGF0aW9uKSB7XG4gICAgICBjb25zdCBXcmFwcGVyID0gZXh0ZW5zaW9uLk11bHRpbGluZUFubm90YXRpb247XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDMoXG4gICAgICAgIFdyYXBwZXIsXG4gICAgICAgIHtcbiAgICAgICAgICBxdWVyeTogbGluZS5hbm5vdGF0aW9uUXVlcnksXG4gICAgICAgICAgbGluZXM6IGxpbmUubGluZXMsXG4gICAgICAgICAgYnJpZ2h0UHJvcHMsXG4gICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gzKExpbmVzQ29tcG9uZW50LCB7IGxpbmVzOiBsaW5lLmxpbmVzLCBicmlnaHRQcm9wcyB9KVxuICAgICAgICB9LFxuICAgICAgICBpXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDMoXG4gICAgICAgIExpbmVzQ29tcG9uZW50LFxuICAgICAgICB7XG4gICAgICAgICAgbGluZXM6IGxpbmUubGluZXMsXG4gICAgICAgICAgYnJpZ2h0UHJvcHNcbiAgICAgICAgfSxcbiAgICAgICAgaVxuICAgICAgKTtcbiAgICB9XG4gIH0pIH0pO1xufVxuZnVuY3Rpb24gTGluZUNvbXBvbmVudCh7XG4gIGxpbmUsXG4gIGJyaWdodFByb3BzXG59KSB7XG4gIGNvbnN0IGRpZ2l0cyA9IGJyaWdodFByb3BzLmxpbmVOdW1iZXJzID8gYnJpZ2h0UHJvcHMubGluZUNvdW50LnRvU3RyaW5nKCkubGVuZ3RoIDogMDtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gzKFwiZGl2XCIsIHsgc3R5bGU6IHsgcGFkZGluZzogXCIwIDFlbVwiIH0sIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4czIoXCJzcGFuXCIsIHsgY2hpbGRyZW46IFtcbiAgICBkaWdpdHMgPiAwICYmIC8qIEBfX1BVUkVfXyAqLyBqc3gzKFxuICAgICAgXCJzcGFuXCIsXG4gICAgICB7XG4gICAgICAgIFwiZGF0YS1icmlnaHQtbG5cIjogbGluZS5saW5lTnVtYmVyLFxuICAgICAgICBzdHlsZTogeyB3aWR0aDogYCR7ZGlnaXRzfWNoYCB9LFxuICAgICAgICBjaGlsZHJlbjogbGluZS5saW5lTnVtYmVyXG4gICAgICB9XG4gICAgKSxcbiAgICAvKiBAX19QVVJFX18gKi8ganN4MyhUb2tlbnNSZW5kZXJlciwgeyB0b2tlbnM6IGxpbmUudG9rZW5zLCBicmlnaHRQcm9wcyB9KSxcbiAgICAvKiBAX19QVVJFX18gKi8ganN4MyhcImJyXCIsIHt9KVxuICBdIH0pIH0pO1xufVxuZnVuY3Rpb24gbGluZXNUb0NvbnRlbnQobGluZXMpIHtcbiAgcmV0dXJuIGxpbmVzLm1hcCgobGluZSkgPT4ge1xuICAgIGlmIChcImxpbmVOdW1iZXJcIiBpbiBsaW5lKSB7XG4gICAgICByZXR1cm4gdG9rZW5zVG9Db250ZW50KGxpbmUudG9rZW5zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGxpbmVzVG9Db250ZW50KGxpbmUubGluZXMpO1xuICAgIH1cbiAgfSkuam9pbihcIlxcblwiKTtcbn1cblxuLy8gc3JjL2NvZGUudHN4XG5pbXBvcnQgeyBqc3ggYXMganN4NCwganN4cyBhcyBqc3hzMyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuYXN5bmMgZnVuY3Rpb24gQnJpZ2h0Q29kZShwcm9wcykge1xuICBjb25zdCBicmlnaHRQcm9wcyA9IGF3YWl0IGhpZ2hsaWdodChwcm9wcyk7XG4gIGNvbnN0IHsgUm9vdDogUm9vdDIgfSA9IGJyaWdodFByb3BzO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDQoUm9vdDIsIHsgLi4uYnJpZ2h0UHJvcHMgfSk7XG59XG5hc3luYyBmdW5jdGlvbiBoaWdobGlnaHQocHJvcHMpIHtcbiAgaWYgKHByb3BzLnN1YlByb3BzKSB7XG4gICAgY29uc3QgeyBzdWJQcm9wcywgLi4ucm9vdFByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCBuZXdTdWJQcm9wcyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgc3ViUHJvcHMubWFwKChzdWIpID0+IGhpZ2hsaWdodCh7IC4uLnJvb3RQcm9wcywgLi4uc3ViIH0pKVxuICAgICk7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnJvb3RQcm9wcyxcbiAgICAgIC4uLm5ld1N1YlByb3BzWzBdLFxuICAgICAgc3ViUHJvcHM6IG5ld1N1YlByb3BzXG4gICAgfTtcbiAgfVxuICBjb25zdCB7IGNvZGUsIGxhbmcsIHRoZW1lLCBhbm5vdGF0aW9ucyB9ID0gcHJvcHM7XG4gIGNvbnN0IHsgbGluZXMgfSA9IGF3YWl0IGxpZ2h0KGNvZGUsIGxhbmcsIHRoZW1lLCB7IGFubm90YXRpb25zIH0pO1xuICBjb25zdCBjb2xvcnMgPSBnZXRUaGVtZUNvbG9yc1N5bmModGhlbWUpO1xuICBjb25zdCBicmlnaHRQcm9wcyA9IHtcbiAgICAuLi5wcm9wcyxcbiAgICBzdWJQcm9wczogW10sXG4gICAgY29sb3JzLFxuICAgIGxpbmVzLFxuICAgIGxpbmVDb3VudDogY29kZS5zcGxpdChgXG5gKS5sZW5ndGhcbiAgfTtcbiAgcmV0dXJuIGJyaWdodFByb3BzO1xufVxuZnVuY3Rpb24gUm9vdChwcm9wcykge1xuICBjb25zdCB7IHRoZW1lLCBjbGFzc05hbWUsIHN0eWxlLCBjb2xvcnMsIG1vZGUsIHRpdGxlLCBQcmU6IFByZTIgfSA9IHByb3BzO1xuICBjb25zdCB7IGZvcmVncm91bmQgfSA9IGNvbG9ycztcbiAgY29uc3QgdGhlbWVOYW1lID0gZ2V0VGhlbWVOYW1lKHRoZW1lKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzMyhcbiAgICBcImRpdlwiLFxuICAgIHtcbiAgICAgIFwiZGF0YS1icmlnaHQtdGhlbWVcIjogdGhlbWVOYW1lLFxuICAgICAgXCJkYXRhLWJyaWdodC1tb2RlXCI6IG1vZGUsXG4gICAgICBjbGFzc05hbWUsXG4gICAgICBzdHlsZToge1xuICAgICAgICBjb2xvcjogZm9yZWdyb3VuZCxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIixcbiAgICAgICAgbWFyZ2luOiBcIjFlbSAwXCIsXG4gICAgICAgIFtcIi0tc2VsZWN0aW9uLWJhY2tncm91bmRcIl06IGNvbG9ycy5lZGl0b3Iuc2VsZWN0aW9uQmFja2dyb3VuZCxcbiAgICAgICAgW1wiLS1saW5lLW51bWJlci1jb2xvclwiXTogY29sb3JzLmVkaXRvckxpbmVOdW1iZXIuZm9yZWdyb3VuZCxcbiAgICAgICAgW1wiLS10YWItYm9yZGVyXCJdOiBjb2xvcnMudGFiLmJvcmRlcixcbiAgICAgICAgW1wiLS10YWItYmFja2dyb3VuZFwiXTogY29sb3JzLnRhYi5hY3RpdmVCYWNrZ3JvdW5kLFxuICAgICAgICBbXCItLXRhYi1jb2xvclwiXTogY29sb3JzLnRhYi5hY3RpdmVGb3JlZ3JvdW5kLFxuICAgICAgICBbXCItLWluYWN0aXZlLXRhYi1iYWNrZ3JvdW5kXCJdOiBjb2xvcnMudGFiLmluYWN0aXZlQmFja2dyb3VuZCxcbiAgICAgICAgW1wiLS1pbmFjdGl2ZS10YWItY29sb3JcIl06IGNvbG9ycy50YWIuaW5hY3RpdmVGb3JlZ3JvdW5kLFxuICAgICAgICBbXCItLXRhYi10b3AtYm9yZGVyXCJdOiBjb2xvcnMudGFiLmFjdGl2ZUJvcmRlclRvcCxcbiAgICAgICAgW1wiLS10YWItYm90dG9tLWJvcmRlclwiXTogY29sb3JzLnRhYi5hY3RpdmVCb3JkZXIsXG4gICAgICAgIGNvbG9yU2NoZW1lOiBjb2xvcnMuY29sb3JTY2hlbWUsXG4gICAgICAgIC4uLnN0eWxlXG4gICAgICB9LFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDQoXG4gICAgICAgICAgU3R5bGUsXG4gICAgICAgICAge1xuICAgICAgICAgICAgbW9kZSxcbiAgICAgICAgICAgIGxpbmVOdW1iZXJzOiBwcm9wcy5saW5lTnVtYmVycyxcbiAgICAgICAgICAgIGxpZ2h0VGhlbWVTZWxlY3RvcjogcHJvcHMubGlnaHRUaGVtZVNlbGVjdG9yXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICB0aXRsZSAmJiAvKiBAX19QVVJFX18gKi8ganN4NChUaXRsZUJhciwgeyAuLi5wcm9wcyB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDQoUHJlMiwgeyAuLi5wcm9wcyB9KVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIFByZShicmlnaHRQcm9wcykge1xuICBjb25zdCB7IGxpbmVzLCBjb2RlQ2xhc3NOYW1lLCBjb2xvcnMgfSA9IGJyaWdodFByb3BzO1xuICBjb25zdCB7IGZvcmVncm91bmQsIGJhY2tncm91bmQgfSA9IGNvbG9ycztcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g0KFxuICAgIFwicHJlXCIsXG4gICAge1xuICAgICAgc3R5bGU6IHtcbiAgICAgICAgbWFyZ2luOiAwLFxuICAgICAgICBjb2xvcjogZm9yZWdyb3VuZCxcbiAgICAgICAgYmFja2dyb3VuZCxcbiAgICAgICAgcGFkZGluZzogXCIxZW0gMFwiLFxuICAgICAgICBvdmVyZmxvdzogXCJhdXRvXCJcbiAgICAgIH0sXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDQoXG4gICAgICAgIFwiY29kZVwiLFxuICAgICAgICB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBjb2RlQ2xhc3NOYW1lLFxuICAgICAgICAgIHN0eWxlOiB7IGRpc3BsYXk6IFwiYmxvY2tcIiwgbWluV2lkdGg6IFwiZml0LWNvbnRlbnRcIiB9LFxuICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4NChMaW5lc0NvbXBvbmVudCwgeyBsaW5lcywgYnJpZ2h0UHJvcHMgfSlcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIFN0eWxlKHtcbiAgbW9kZSxcbiAgbGluZU51bWJlcnMsXG4gIGxpZ2h0VGhlbWVTZWxlY3RvclxufSkge1xuICBjb25zdCBsaW5lTnVtYmVyc1N0eWxlID0gYFtkYXRhLWJyaWdodC10aGVtZV0gW2RhdGEtYnJpZ2h0LWxuXSB7IFxuICAgIGNvbG9yOiB2YXIoLS1saW5lLW51bWJlci1jb2xvcik7IFxuICAgIG1hcmdpbi1yaWdodDogMS41Y2g7IFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgfWA7XG4gIGNvbnN0IGNzcyA9IGAke2Rpc3BsYXlTdHlsZShtb2RlLCBsaWdodFRoZW1lU2VsZWN0b3IpfVxuICBbZGF0YS1icmlnaHQtdGhlbWVdIDo6c2VsZWN0aW9uIHsgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc2VsZWN0aW9uLWJhY2tncm91bmQpIH1cbiAgJHtsaW5lTnVtYmVycyA/IGxpbmVOdW1iZXJzU3R5bGUgOiBcIlwifVxuICBgO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDQoXCJzdHlsZVwiLCB7IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7IF9faHRtbDogY3NzIH0gfSk7XG59XG5mdW5jdGlvbiBkaXNwbGF5U3R5bGUobW9kZSwgbGlnaHRUaGVtZVNlbGVjdG9yID0gJ1tkYXRhLXRoZW1lPVwibGlnaHRcIl0nKSB7XG4gIGlmICghbW9kZSlcbiAgICByZXR1cm4gXCJcIjtcbiAgaWYgKG1vZGUgPT09IFwiZGFya1wiKVxuICAgIHJldHVybiBgW2RhdGEtYnJpZ2h0LW1vZGU9XCJkYXJrXCJdIHsgZGlzcGxheTogYmxvY2sgfVxuJHtsaWdodFRoZW1lU2VsZWN0b3J9IFtkYXRhLWJyaWdodC1tb2RlPVwiZGFya1wiXSB7IGRpc3BsYXk6IG5vbmUgfWA7XG4gIGlmIChtb2RlID09PSBcImxpZ2h0XCIpXG4gICAgcmV0dXJuIGBbZGF0YS1icmlnaHQtbW9kZT1cImxpZ2h0XCJdIHsgZGlzcGxheTogbm9uZSB9XG4ke2xpZ2h0VGhlbWVTZWxlY3Rvcn0gW2RhdGEtYnJpZ2h0LW1vZGU9XCJsaWdodFwiXSB7IGRpc3BsYXk6IGJsb2NrIH1gO1xuICByZXR1cm4gXCJcIjtcbn1cbmZ1bmN0aW9uIGdldFRoZW1lTmFtZSh0aGVtZSkge1xuICBpZiAoIXRoZW1lKVxuICAgIHJldHVybiBcImRlZmF1bHRcIjtcbiAgaWYgKHR5cGVvZiB0aGVtZSA9PT0gXCJzdHJpbmdcIilcbiAgICByZXR1cm4gdGhlbWU7XG4gIHJldHVybiB0aGVtZS5uYW1lO1xufVxuXG4vLyBzcmMvY29tcG9uZW50cy50c3hcbnZhciBjb21wb25lbnRzID0ge1xuICBQcmUsXG4gIFJvb3QsXG4gIFRpdGxlQmFyQ29udGVudCxcbiAgVGFiLFxuICBUYWJDb250ZW50XG59O1xudmFyIGNvbXBvbmVudHNfZGVmYXVsdCA9IGNvbXBvbmVudHM7XG5cbi8vIHNyYy9pbmRleC50c3hcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBcInNlcnZlci1vbmx5XCI7XG5pbXBvcnQgeyBGcmFnbWVudCBhcyBGcmFnbWVudDQsIGpzeCBhcyBqc3g1LCBqc3hzIGFzIGpzeHM0IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgQ29kZSA9IGFzeW5jIChjb21wb25lbnRQcm9wcykgPT4ge1xuICBjb25zdCB7IGNoaWxkcmVuLCBsYW5nLCAuLi5yZXN0IH0gPSB7XG4gICAgLi4uQ29kZSxcbiAgICAuLi5jb21wb25lbnRQcm9wc1xuICB9O1xuICBjb25zdCBwcm9wc0Zyb21DaGlsZHJlbiA9IHBhcnNlQ2hpbGRyZW4oY2hpbGRyZW4sIGxhbmcsIHJlc3QuY29kZSk7XG4gIGxldCBwcm9wcyA9IHsgLi4ucmVzdCwgLi4ucHJvcHNGcm9tQ2hpbGRyZW4gfTtcbiAgY29uc3QgeyB0aGVtZSB9ID0gcHJvcHM7XG4gIGNvbnN0IGlzRG91YmxlID0gdGhlbWUgJiYgdGhlbWUuZGFyayAmJiB0aGVtZS5saWdodCB8fCBmYWxzZTtcbiAgaWYgKCFpc0RvdWJsZSkge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4NShBbm5vdGF0ZWRDb2RlLCB7IC4uLnByb3BzLCB0aGVtZSB9KTtcbiAgfVxuICBjb25zdCBkb3VibGVUaGVtZSA9IHRoZW1lO1xuICBjb25zdCBkYXJrVGhlbWUgPSBkb3VibGVUaGVtZS5kYXJrO1xuICBjb25zdCBsaWdodFRoZW1lID0gZG91YmxlVGhlbWUubGlnaHQ7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4czQoRnJhZ21lbnQ0LCB7IGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeDUoXG4gICAgICBBbm5vdGF0ZWRDb2RlLFxuICAgICAge1xuICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgdGhlbWU6IGRhcmtUaGVtZSxcbiAgICAgICAgbW9kZTogXCJkYXJrXCIsXG4gICAgICAgIGxpZ2h0VGhlbWVTZWxlY3RvcjogZG91YmxlVGhlbWUubGlnaHRTZWxlY3RvclxuICAgICAgfVxuICAgICksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeDUoXG4gICAgICBBbm5vdGF0ZWRDb2RlLFxuICAgICAge1xuICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgdGhlbWU6IGxpZ2h0VGhlbWUsXG4gICAgICAgIG1vZGU6IFwibGlnaHRcIixcbiAgICAgICAgbGlnaHRUaGVtZVNlbGVjdG9yOiBkb3VibGVUaGVtZS5saWdodFNlbGVjdG9yXG4gICAgICB9XG4gICAgKVxuICBdIH0pO1xufTtcbmFzeW5jIGZ1bmN0aW9uIEFubm90YXRlZENvZGUocHJvcHMpIHtcbiAgbGV0IG5ld1Byb3BzID0gYXdhaXQgZXh0cmFjdEFubm90YXRpb25zRnJvbUNvZGUocHJvcHMpO1xuICBuZXdQcm9wcyA9IHJ1bkV4dGVuc2lvbnNCZWZvcmVIaWdobGlnaHQobmV3UHJvcHMpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDUoQnJpZ2h0Q29kZSwgeyAuLi5uZXdQcm9wcyB9KTtcbn1cbkNvZGUudGhlbWUgPSBcImRhcmstcGx1c1wiO1xuQ29kZS5leHRlbnNpb25zID0gW107XG5PYmplY3QuYXNzaWduKENvZGUsIGNvbXBvbmVudHNfZGVmYXVsdCk7XG5hc3luYyBmdW5jdGlvbiBleHRyYWN0QW5ub3RhdGlvbnNGcm9tQ29kZShwcm9wcykge1xuICBpZiAocHJvcHMuc3ViUHJvcHMpIHtcbiAgICBjb25zdCB7IHN1YlByb3BzLCAuLi5yb290UHJvcHMgfSA9IHByb3BzO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5yb290UHJvcHMsXG4gICAgICBzdWJQcm9wczogYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgIHN1YlByb3BzLm1hcChcbiAgICAgICAgICAoc3ViKSA9PiBleHRyYWN0QW5ub3RhdGlvbnNGcm9tQ29kZSh7IC4uLnJvb3RQcm9wcywgLi4uc3ViIH0pXG4gICAgICAgIClcbiAgICAgIClcbiAgICB9O1xuICB9XG4gIGNvbnN0IHsgZXh0ZW5zaW9ucywgY29kZSwgbGFuZyB9ID0gcHJvcHM7XG4gIGNvbnN0IGV4dGVuc2lvbk5hbWVzID0gZXh0ZW5zaW9ucy5tYXAoKGUpID0+IHtcbiAgICBpZiAoIWUgfHwgIWUubmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXh0ZW5zaW9uIG11c3QgaGF2ZSBhIG5hbWVcIik7XG4gICAgfVxuICAgIHJldHVybiBlLm5hbWU7XG4gIH0pO1xuICBjb25zdCB7IGNvZGU6IG5ld0NvZGUsIGFubm90YXRpb25zIH0gPSBhd2FpdCBleHRyYWN0QW5ub3RhdGlvbnMoXG4gICAgY29kZSxcbiAgICBsYW5nLFxuICAgIGV4dGVuc2lvbk5hbWVzXG4gICk7XG4gIGNvbnN0IGlucHV0QW5ub3RhdGlvbnMgPSBwcm9wcy5hbm5vdGF0aW9ucyB8fCBbXTtcbiAgY29uc3QgbmV3UHJvcHMgPSB7XG4gICAgLi4ucHJvcHMsXG4gICAgY29kZTogbmV3Q29kZSxcbiAgICBhbm5vdGF0aW9uczogaW5wdXRBbm5vdGF0aW9ucy5jb25jYXQoYW5ub3RhdGlvbnMpXG4gIH07XG4gIHJldHVybiBuZXdQcm9wcztcbn1cbmZ1bmN0aW9uIHJ1bkV4dGVuc2lvbnNCZWZvcmVIaWdobGlnaHQocHJvcHMpIHtcbiAgbGV0IG5ld1Byb3BzID0gcHJvcHM7XG4gIGNvbnN0IHsgZXh0ZW5zaW9ucywgYW5ub3RhdGlvbnMgPSBbXSB9ID0gcHJvcHM7XG4gIGV4dGVuc2lvbnMuZm9yRWFjaCgoZXh0ZW5zaW9uKSA9PiB7XG4gICAgY29uc3QgeyBQcmU6IFByZTIsIFJvb3Q6IFJvb3QyLCBUaXRsZUJhckNvbnRlbnQ6IFRpdGxlQmFyQ29udGVudDIsIFRhYjogVGFiMiwgVGFiQ29udGVudDogVGFiQ29udGVudDIgfSA9IGV4dGVuc2lvbjtcbiAgICBuZXdQcm9wcyA9IHtcbiAgICAgIC4uLm5ld1Byb3BzLFxuICAgICAgUHJlOiBQcmUyIHx8IG5ld1Byb3BzLlByZSxcbiAgICAgIFJvb3Q6IFJvb3QyIHx8IG5ld1Byb3BzLlJvb3QsXG4gICAgICBUaXRsZUJhckNvbnRlbnQ6IFRpdGxlQmFyQ29udGVudDIgfHwgbmV3UHJvcHMuVGl0bGVCYXJDb250ZW50LFxuICAgICAgVGFiOiBUYWIyIHx8IG5ld1Byb3BzLlRhYixcbiAgICAgIFRhYkNvbnRlbnQ6IFRhYkNvbnRlbnQyIHx8IG5ld1Byb3BzLlRhYkNvbnRlbnRcbiAgICB9O1xuICB9KTtcbiAgaWYgKHByb3BzLnN1YlByb3BzKSB7XG4gICAgZXh0ZW5zaW9ucy5mb3JFYWNoKChleHRlbnNpb24pID0+IHtcbiAgICAgIGNvbnN0IHsgbmFtZSB9ID0gZXh0ZW5zaW9uO1xuICAgICAgaWYgKFwiYmVmb3JlUm9vdFwiIGluIGV4dGVuc2lvbiAmJiB0eXBlb2YgZXh0ZW5zaW9uLmJlZm9yZVJvb3QgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjb25zdCBleHRlbnNpb25Bbm5vdGF0aW9ucyA9IGFubm90YXRpb25zLmZpbHRlcihcbiAgICAgICAgICAoYW5ub3RhdGlvbikgPT4gYW5ub3RhdGlvbi5uYW1lID09PSBuYW1lXG4gICAgICAgICk7XG4gICAgICAgIG5ld1Byb3BzID0gZXh0ZW5zaW9uLmJlZm9yZVJvb3QobmV3UHJvcHMsIGV4dGVuc2lvbkFubm90YXRpb25zKSB8fCBuZXdQcm9wcztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCB7IHN1YlByb3BzLCAuLi5yb290UHJvcHMgfSA9IG5ld1Byb3BzO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5yb290UHJvcHMsXG4gICAgICBzdWJQcm9wczogKHN1YlByb3BzIHx8IFtdKS5tYXAoXG4gICAgICAgIChzdWIpID0+IHJ1bkV4dGVuc2lvbnNCZWZvcmVIaWdobGlnaHQoeyAuLi5yb290UHJvcHMsIC4uLnN1YiB9KVxuICAgICAgKVxuICAgIH07XG4gIH1cbiAgZXh0ZW5zaW9ucy5mb3JFYWNoKChleHRlbnNpb24pID0+IHtcbiAgICBjb25zdCB7IG5hbWUgfSA9IGV4dGVuc2lvbjtcbiAgICBpZiAoXCJiZWZvcmVIaWdobGlnaHRcIiBpbiBleHRlbnNpb24gJiYgdHlwZW9mIGV4dGVuc2lvbi5iZWZvcmVIaWdobGlnaHQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgY29uc3QgZXh0ZW5zaW9uQW5ub3RhdGlvbnMgPSBhbm5vdGF0aW9ucy5maWx0ZXIoXG4gICAgICAgIChhbm5vdGF0aW9uKSA9PiBhbm5vdGF0aW9uLm5hbWUgPT09IG5hbWVcbiAgICAgICk7XG4gICAgICBuZXdQcm9wcyA9IGV4dGVuc2lvbi5iZWZvcmVIaWdobGlnaHQobmV3UHJvcHMsIGV4dGVuc2lvbkFubm90YXRpb25zKSB8fCBuZXdQcm9wcztcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gbmV3UHJvcHM7XG59XG5mdW5jdGlvbiB0cmltVHJhaWxpbmdOZXdsaW5lKGNvZGUpIHtcbiAgdmFyIF9hO1xuICByZXR1cm4gKF9hID0gY29kZSA9PSBudWxsID8gdm9pZCAwIDogY29kZS5yZXBsYWNlKC9cXG4kLywgXCJcIikpICE9IG51bGwgPyBfYSA6IHZvaWQgMDtcbn1cbmZ1bmN0aW9uIHBhcnNlQ2hpbGRyZW4oY2hpbGRyZW4sIGxhbmcsIGNvZGUpIHtcbiAgdmFyIF9hLCBfYiwgX2M7XG4gIGlmICh0eXBlb2YgY2hpbGRyZW4gPT09IFwic3RyaW5nXCIgfHwgY29kZSkge1xuICAgIGxldCBuZXdMYW5nMiA9IGxhbmcgfHwgXCJ0ZXh0XCI7XG4gICAgaWYgKCFMQU5HX05BTUVTLmluY2x1ZGVzKG5ld0xhbmcyKSkge1xuICAgICAgY29uc29sZS53YXJuKGBCcmlnaHQgd2FybmluZzogVW5rbm93biBsYW5ndWFnZSAke0pTT04uc3RyaW5naWZ5KGxhbmcpfWApO1xuICAgICAgbmV3TGFuZzIgPSBcInRleHRcIjtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvZGU6IGNoaWxkcmVuIHx8IGNvZGUgfHwgXCJcIixcbiAgICAgIGxhbmc6IG5ld0xhbmcyXG4gICAgfTtcbiAgfVxuICBpZiAodHlwZW9mIGNoaWxkcmVuID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiAoKF9hID0gY2hpbGRyZW4gPT0gbnVsbCA/IHZvaWQgMCA6IGNoaWxkcmVuLnByb3BzKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2hpbGRyZW4pID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvZGU6IHRyaW1UcmFpbGluZ05ld2xpbmUoKF9iID0gY2hpbGRyZW4ucHJvcHMpID09IG51bGwgPyB2b2lkIDAgOiBfYi5jaGlsZHJlbiksXG4gICAgICAuLi5nZXRMYW5ndWFnZUFuZFRpdGxlKChfYyA9IGNoaWxkcmVuLnByb3BzKSA9PSBudWxsID8gdm9pZCAwIDogX2MuY2xhc3NOYW1lKVxuICAgIH07XG4gIH1cbiAgaWYgKHR5cGVvZiBjaGlsZHJlbiA9PT0gXCJvYmplY3RcIikge1xuICAgIGNvbnN0IHN1YlByb3BzID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheShjaGlsZHJlbikubWFwKChjKSA9PiB7XG4gICAgICB2YXIgX2EyO1xuICAgICAgY29uc3QgY29kZUVsZW1lbnQgPSAoX2EyID0gYy5wcm9wcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5jaGlsZHJlbjtcbiAgICAgIGNvbnN0IGNvZGVQcm9wcyA9IGNvZGVFbGVtZW50ID09IG51bGwgPyB2b2lkIDAgOiBjb2RlRWxlbWVudC5wcm9wcztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvZGU6IHRyaW1UcmFpbGluZ05ld2xpbmUoY29kZVByb3BzLmNoaWxkcmVuKSxcbiAgICAgICAgLi4uZ2V0TGFuZ3VhZ2VBbmRUaXRsZShjb2RlUHJvcHMuY2xhc3NOYW1lKVxuICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgc3ViUHJvcHNcbiAgICB9O1xuICB9XG4gIGxldCBuZXdMYW5nID0gbGFuZyB8fCBcInRleHRcIjtcbiAgaWYgKCFMQU5HX05BTUVTLmluY2x1ZGVzKG5ld0xhbmcpKSB7XG4gICAgY29uc29sZS53YXJuKGBCcmlnaHQgd2FybmluZzogVW5rbm93biBsYW5ndWFnZSAke0pTT04uc3RyaW5naWZ5KGxhbmcpfWApO1xuICAgIG5ld0xhbmcgPSBcInRleHRcIjtcbiAgfVxuICByZXR1cm4ge1xuICAgIGNvZGU6IGNoaWxkcmVuIHx8IGNvZGUgfHwgXCJcIixcbiAgICBsYW5nOiBuZXdMYW5nXG4gIH07XG59XG5mdW5jdGlvbiBnZXRMYW5ndWFnZUFuZFRpdGxlKGNsYXNzTmFtZSkge1xuICBpZiAoIWNsYXNzTmFtZSkge1xuICAgIHJldHVybiB7IGxhbmc6IFwidGV4dFwiIH07XG4gIH1cbiAgY29uc3QgbWV0YXN0cmluZyA9IGNsYXNzTmFtZS5yZXBsYWNlKFwibGFuZ3VhZ2UtXCIsIFwiXCIpO1xuICBjb25zdCBsYW5nID0gbWV0YXN0cmluZy5zcGxpdChcIi5cIikucG9wKCk7XG4gIGlmICghTEFOR19OQU1FUy5pbmNsdWRlcyhsYW5nKSkge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIGBCcmlnaHQgd2FybmluZzogVW5rbm93biBsYW5ndWFnZSAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICBsYW5nXG4gICAgICApfSBpbiAke0pTT04uc3RyaW5naWZ5KG1ldGFzdHJpbmcpfWBcbiAgICApO1xuICAgIHJldHVybiB7IGxhbmc6IFwidGV4dFwiIH07XG4gIH1cbiAgaWYgKGxhbmcgIT09IG1ldGFzdHJpbmcpIHtcbiAgICByZXR1cm4geyBsYW5nLCB0aXRsZTogbWV0YXN0cmluZyB9O1xuICB9XG4gIHJldHVybiB7IGxhbmcgfTtcbn1cbmV4cG9ydCB7XG4gIENvZGUsXG4gIGxpbmVzVG9Db250ZW50LFxuICB0b2tlbnNUb0NvbnRlbnQsXG4gIHRva2Vuc1RvVG9rZW5MaXN0XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/bright/dist/index.mjs\n");

/***/ })

};
;